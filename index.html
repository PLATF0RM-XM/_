<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>XM Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<style>
body{margin:0;font-family:Arial;background:#07162e;color:#fff;text-align:center}
.banner{height:45vh;background:linear-gradient(135deg,#0b2a52,#07162e);display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:bold}
.card{background:rgba(255,255,255,.1);backdrop-filter:blur(14px);border-radius:16px;padding:25px;max-width:420px;margin:-80px auto 0}
input,button{width:100%;padding:14px;margin:8px 0;border-radius:10px;border:none}
button{background:#00c176;font-weight:bold}
.locked{color:#f00;font-weight:bold}
</style>
</head>
<body>

<div class="banner">Ù…Ù†ØµØ© XM</div>

<div class="card">
<input id="tx" placeholder="Ø±Ù‚Ù… Ø§Ù„ØµÙÙ‚Ø©">
<button onclick="search()">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØµÙÙ‚Ø©</button>
<div id="res"></div>
</div>

<script>
const firebaseConfig={
 apiKey:"AIzaSyDCVCtl1ca3NSoy6tAWCp-ykgGBa21ZNp8",
 authDomain:"investment-platform-b419d.firebaseapp.com",
 projectId:"investment-platform-b419d"
};
firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();

function search(){
 db.collection("transactions").doc(tx.value).get().then(d=>{
  if(!d.exists){res.innerHTML="Ø±Ù‚Ù… ØºÙŠØ± ØµØ­ÙŠØ­";return;}
  const x=d.data();
  if(x.locked){res.innerHTML="<div class='locked'>Ø§Ù„ØµÙÙ‚Ø© Ù…ØºÙ„Ù‚Ø©</div>";return;}
  res.innerHTML=`
   <p>ğŸ‘¤ ${x.name}</p>
   <p>ğŸ’° ${x.amount}</p>
   <p>ğŸ“Œ ${x.status}</p>
   ${x.status=="ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø³Ø¯Ø§Ø¯"?"<button onclick=location.href='payment.html?tx="+tx.value+"'>Ø³Ø¯Ø¯ Ø§Ù„Ø¢Ù†</button>":""}
  `;
 });
}
</script>

</body>
</html>
